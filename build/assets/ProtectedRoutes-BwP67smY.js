import{m as L,j as e,u as D,r as f,c as H,B as d,O as X,T as s,G as P,f as S,g as v,h as z,R as O,l as p,N as E}from"./index-CR0t5rF1.js";import{p as M,P as V,C as A,A as G,I as U,R as Y,a as W,H as Q}from"./Home-UJ9v1IcJ.js";import{D as _,S as C}from"./Stack-mm9qFlvs.js";import{T as y,F as J,C as K,P as B,a as T}from"./PasswordField-BBk9aHTQ.js";const Z=L(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),$=L(e.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank"),k=L(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),ee=()=>{const a=D(),[r,i]=f.useState(!1);return f.useEffect(()=>{H()?i(!0):(i(!1),a("/user/auth/login",{replace:!0}))},[a]),e.jsx(d,{sx:{p:2},children:r&&e.jsx(e.Fragment,{children:e.jsx(d,{sx:{width:"100%",height:"100%"},children:e.jsx(X,{})})})})},ae=()=>e.jsxs(d,{children:[e.jsx(s,{variant:"h6",sx:{textAlign:"center"},children:"Your Wishlist"}),e.jsx(d,{children:e.jsx(P,{container:!0,children:M.map((a,r)=>e.jsx(P,{item:!0,lg:2,md:4,sm:6,xs:6,sx:{p:1},children:e.jsx(V,{data:a})},r))})})]}),te={user_id:"1cps99",profile_url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQTSKbCFe_QYSVH-4FpaszXvakr2Eti9eAJpQ&s",name:"Chandra Prakash Suthar",email:"jane.doe@example.com",phone_number:"7023667323",gender:"Male",dob:"20-02-1999",password:"ACPs1999",address:[{id:"addr001",name:"Chandra Prakash Suthar S/O Bhart Kumar",mobile_no:"7023667323",pincode:"306912",landmark:"Shandev Mandir",city:"Pali",state:"Rajasthan",country:"India",area:"Takhatgarh",apartment:"Hanuman Ji Gali",default:!0},{id:"addr002",name:"John Doe",mobile_no:"9876543210",pincode:"110011",landmark:"Near Central Park",city:"New Delhi",state:"Delhi",country:"India",area:"Connaught Place",apartment:"The Grand Residency",default:!1},{id:"addr003",name:"Jane Doe",mobile_no:"9876543211",pincode:"560001",landmark:"Beside MG Road Metro",city:"Bangalore",state:"Karnataka",country:"India",area:"MG Road",apartment:"Prestige Apartment",default:!1},{id:"addr004",name:"Rahul Sharma ",mobile_no:"9123456789",pincode:"400001",landmark:"Opp. Gateway of India",city:"Mumbai",state:"Maharashtra",country:"India",area:"Colaba",apartment:"Seaside View",default:!1},{id:"addr005",name:"Anjali Verma",mobile_no:"9812345678",pincode:"700001",landmark:"Near Howrah Bridge",city:"Kolkata",state:"West Bengal",country:"India",area:"Howrah",apartment:"Heritage Residency",default:!1}]},R=()=>{const a=D(),r=te,i=r.address.find(l=>l.default);return{variables:{userData:r,defaultAddress:i},methods:{handleAddress:()=>{a("/user/profile/address")},handleUpdatePassword:()=>{a("/user/profile/update-password",{state:{phone_number:r.phone_number}})},handleAddAddress:()=>{a("/user/profile/manage-address",{state:{action:"Add"}})},handleUpdateAddress:l=>{a("/user/profile/manage-address",{state:{address:l,action:"Update"}})}}}},N=({address:a})=>e.jsxs(d,{children:[e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"Name:"})," ",(a==null?void 0:a.name)||"N/A"]}),e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"Landmark:"})," ",(a==null?void 0:a.landmark)||"N/A"]}),e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"Apartment:"})," ",(a==null?void 0:a.apartment)||"N/A"]}),e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"Area:"})," ",(a==null?void 0:a.area)||"N/A"]}),e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"Pincode:"})," ",(a==null?void 0:a.pincode)||"N/A"]}),e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"City:"})," ",(a==null?void 0:a.city)||"N/A"]}),e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"State:"})," ",(a==null?void 0:a.state)||"N/A"]}),e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"Country:"})," ",(a==null?void 0:a.country)||"N/A"]}),e.jsxs(s,{variant:"body1",children:[e.jsx("strong",{children:"Mobile No.:"})," ",(a==null?void 0:a.mobile_no)||"N/A"]})]}),re=()=>{const{variables:{userData:a,defaultAddress:r},methods:{handleAddress:i,handleUpdatePassword:t}}=R();return e.jsx(A,{sx:{},children:e.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:4},children:[e.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:"bold",color:"primary.main"},children:"Information"}),e.jsx(S,{children:e.jsx(k,{})})]}),e.jsx(G,{src:a.profile_url,alt:"Owner",variant:"rounded",sx:{width:70,height:70}}),e.jsx(s,{variant:"subtitle2",sx:{fontWeight:"bold"},children:a.name}),e.jsx(_,{}),e.jsxs(s,{variant:"subtitle2",sx:{fontWeight:"bold"},children:["Email Address",e.jsxs(s,{variant:"body1",children:[" ",a.email]})]}),e.jsx(_,{}),e.jsxs(s,{variant:"subtitle2",sx:{fontWeight:"bold"},children:["Mobile Number",e.jsxs(s,{variant:"body1",children:[" ",a.phone_number]})]}),e.jsx(_,{}),e.jsxs(s,{variant:"subtitle2",sx:{fontWeight:"bold"},children:["Gender",e.jsxs(s,{variant:"body1",children:[" ",a.gender]})]}),e.jsx(_,{}),e.jsxs(s,{variant:"subtitle2",sx:{fontWeight:"bold"},children:["Date of Birth",e.jsxs(s,{variant:"body1",children:[" ",a.dob]})]}),e.jsx(_,{}),e.jsxs(d,{children:[e.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Update Password"}),e.jsx(S,{onClick:t,children:e.jsx(k,{})})]}),e.jsx(s,{variant:"body1",children:"******** "})]}),e.jsx(_,{}),e.jsxs(d,{children:[e.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Address"}),e.jsx(S,{onClick:i,children:e.jsx(k,{})})]}),e.jsx(N,{address:r})]}),e.jsx(_,{})]})})},se=()=>e.jsx("div",{children:"Order"}),q=[{id:"p1",title:"boAt bosco Airdopes 141 Bluetooth Truly Wireless in Ear Ear Buds w/ 45H Playtime,Low Latency Mode for Gaming, ENx Tech, IWP, IPX4 Water Resistance, Smooth Touch Controls(Bold Black)",price:200,discountPrice:100,mrp:200,discountPercentage:50,colors:[{label:"Black",code:"#000000",image:"https://m.media-amazon.com/images/I/71RFdy6y6LL._SX522_.jpg"},{label:"Cider Cyan",code:"#00FFFF",image:"https://m.media-amazon.com/images/I/71oXzCK43NL._SX522_.jpgg"},{label:"Olive Green",code:"#808000",image:"https://m.media-amazon.com/images/I/71i6-yYY1IL._SX522_.jpg"},{label:"Pure White",code:" #FFFFFF",image:"https://m.media-amazon.com/images/I/61+62pfcajL._SX522_.jpg"},{label:" Thunder Blue",code:"#4E5D73",image:"https://m.media-amazon.com/images/I/71XWviFA49L._SX522_.jpg"}],sizes:["standard"],images:["https://m.media-amazon.com/images/I/71RFdy6y6LL._SX522_.jpg","https://m.media-amazon.com/images/I/61mEqp7RZXL._SX522_.jpg","https://m.media-amazon.com/images/I/71QZbcvD65L._SX522_.jpg","https://m.media-amazon.com/images/I/61vBE3t4x1L._SX522_.jpg","https://m.media-amazon.com/images/I/61F5lcvJHLL._SX522_.jpg","https://m.media-amazon.com/images/I/61rM6cHlA1L._SX522_.jpg"],delivery_charges:5,warranty:1,bestSelling:!0,bestSelling_number:4,numberOfOrders:1500,availability:!0,stock:4,quantity:1},{id:"p3",title:"boAt bosco Airdopes 141 Bluetooth Truly Wireless in Ear Ear Buds w/ 45H Playtime,Low Latency Mode for Gaming, ENx Tech, IWP, IPX4 Water Resistance, Smooth Touch Controls(Bold Black)",description:"boAt Airdopes 141 Bluetooth Truly Wireless in Ear Ear Buds w/ 45H Playtime,Low Latency Mode for Gaming, ENx Tech, IWP, IPX4 Water Resistance, Smooth Touch Controls(Bold Black)",price:300,discountPrice:200,mrp:300,discountPercentage:25,ratings:{rat:4.5,totalRaters:2345,rat_5:350,rat_4:230,rat_3:180,rat_2:70,rat_1:40},colors:[{label:"Black",code:"#000000",image:"https://m.media-amazon.com/images/I/71RFdy6y6LL._SX522_.jpg"},{label:"Cider Cyan",code:"#00FFFF",image:"https://m.media-amazon.com/images/I/71oXzCK43NL._SX522_.jpgg"},{label:"Olive Green",code:"#808000",image:"https://m.media-amazon.com/images/I/71i6-yYY1IL._SX522_.jpg"},{label:"Pure White",code:" #FFFFFF",image:"https://m.media-amazon.com/images/I/61+62pfcajL._SX522_.jpg"},{label:" Thunder Blue",code:"#4E5D73",image:"https://m.media-amazon.com/images/I/71XWviFA49L._SX522_.jpg"}],sizes:["standard"],brands:{id:"b1",label:"Boat",logo:"https://swarajya.gumlet.io/swarajya/2021-01/7a6e91f6-5862-4ac5-bb08-eb5bf2a3e20c/boAt_logo.jpg?w=610&q=50&compress=true&format=auto"},categories:{id:"c1",label:"Earbuds",image:"https://m.media-amazon.com/images/I/614hH1Cot3L.jpg"},store:{id:"1",logo:"https://media.gettyimages.com/id/1438530724/photo/facade-of-a-food-store-or-charcuterie.jpg?s=612x612&w=gi&k=20&c=KNUptosEYqC0qRHoO9nmliaO465VHqSMEOIBfbGJ6Es=",store_name:"Tech Haven"},images:["https://m.media-amazon.com/images/I/71RFdy6y6LL._SX522_.jpg","https://m.media-amazon.com/images/I/61mEqp7RZXL._SX522_.jpg","https://m.media-amazon.com/images/I/71QZbcvD65L._SX522_.jpg","https://m.media-amazon.com/images/I/61vBE3t4x1L._SX522_.jpg","https://m.media-amazon.com/images/I/61F5lcvJHLL._SX522_.jpg","https://m.media-amazon.com/images/I/61rM6cHlA1L._SX522_.jpg"],teg:["bosco","phone"],features:["Playback- Enjoy an extended break on weekends with your favourite episodes on stream, virtue of a playback time of up to 42 hours including the 6 hours nonstop playtime for earbuds.","Low Latency- Our BEAST mode makes Airdopes 141 a partner in entertainment with real-time audio and low latency experience. These tws earbuds are your companion for a perfect gaming experience","Clear Voice Calls- It dons built-in mic on each earbud along with our ENx Environmental Noise Cancellation tech that ensures a smooth delivery_charges of your voice via voice call","TboAt Signature Sound- Delve into your cherished boAt Immersive auditory time with Airdopes 141","ASAP Charge- The tws earbuds are equipped with our ASAP Charge feature that offers up to 75 min of playtime in just 5 min of charge; while the carry case comes along with the Type C interfacert"],replacementPolicy:"7 days replacement policy",delivery_charges:1,warranty:1,bestSelling:!0,bestSelling_number:2,numberOfOrders:1500,availability:!0,stock:15,quantity:2},{id:"p6",title:"boAt bosco Airdopes 141 Bluetooth Truly Wireless in Ear Ear Buds w/ 45H Playtime,Low Latency Mode for Gaming, ENx Tech, IWP, IPX4 Water Resistance, Smooth Touch Controls(Bold Black)",description:"boAt Airdopes 141 Bluetooth Truly Wireless in Ear Ear Buds w/ 45H Playtime,Low Latency Mode for Gaming, ENx Tech, IWP, IPX4 Water Resistance, Smooth Touch Controls(Bold Black)",price:50,discountPrice:20,mrp:20,discountPercentage:30,ratings:{rat:4.5,totalRaters:2345,rat_5:350,rat_4:230,rat_3:180,rat_2:70,rat_1:40},colors:[{label:"Black",code:"#000000",image:"https://m.media-amazon.com/images/I/71RFdy6y6LL._SX522_.jpg"},{label:"Cider Cyan",code:"#00FFFF",image:"https://m.media-amazon.com/images/I/71oXzCK43NL._SX522_.jpgg"},{label:"Olive Green",code:"#808000",image:"https://m.media-amazon.com/images/I/71i6-yYY1IL._SX522_.jpg"},{label:"Pure White",code:" #FFFFFF",image:"https://m.media-amazon.com/images/I/61+62pfcajL._SX522_.jpg"},{label:" Thunder Blue",code:"#4E5D73",image:"https://m.media-amazon.com/images/I/71XWviFA49L._SX522_.jpg"}],sizes:["standard"],brands:{id:"b1",label:"Boat",logo:"https://swarajya.gumlet.io/swarajya/2021-01/7a6e91f6-5862-4ac5-bb08-eb5bf2a3e20c/boAt_logo.jpg?w=610&q=50&compress=true&format=auto"},categories:{id:"c1",label:"Earbuds",image:"https://m.media-amazon.com/images/I/614hH1Cot3L.jpg"},store:{id:"1",logo:"https://media.gettyimages.com/id/1438530724/photo/facade-of-a-food-store-or-charcuterie.jpg?s=612x612&w=gi&k=20&c=KNUptosEYqC0qRHoO9nmliaO465VHqSMEOIBfbGJ6Es=",store_name:"Tech Haven"},images:["https://m.media-amazon.com/images/I/71RFdy6y6LL._SX522_.jpg","https://m.media-amazon.com/images/I/61mEqp7RZXL._SX522_.jpg","https://m.media-amazon.com/images/I/71QZbcvD65L._SX522_.jpg","https://m.media-amazon.com/images/I/61vBE3t4x1L._SX522_.jpg","https://m.media-amazon.com/images/I/61F5lcvJHLL._SX522_.jpg","https://m.media-amazon.com/images/I/61rM6cHlA1L._SX522_.jpg"],teg:["bosco","phone"],features:["Playback- Enjoy an extended break on weekends with your favourite episodes on stream, virtue of a playback time of up to 42 hours including the 6 hours nonstop playtime for earbuds.","Low Latency- Our BEAST mode makes Airdopes 141 a partner in entertainment with real-time audio and low latency experience. These tws earbuds are your companion for a perfect gaming experience","Clear Voice Calls- It dons built-in mic on each earbud along with our ENx Environmental Noise Cancellation tech that ensures a smooth delivery_charges of your voice via voice call","TboAt Signature Sound- Delve into your cherished boAt Immersive auditory time with Airdopes 141","ASAP Charge- The tws earbuds are equipped with our ASAP Charge feature that offers up to 75 min of playtime in just 5 min of charge; while the carry case comes along with the Type C interfacert"],replacementPolicy:"7 days replacement policy",delivery_charges:10,warranty:1,bestSelling:!0,bestSelling_number:1,numberOfOrders:1500,availability:!0,stock:5,quantity:4}],ie=()=>{const[a,r]=f.useState(q.filter(o=>o.stock>0).map(o=>({product_id:o.id,quantity:1,delivery_charges:o.delivery_charges,discountPrice:o.discountPrice,price:o.price}))),i=(o,c)=>{r(u=>u.map(x=>x.product_id===o&&x.quantity<c?{...x,quantity:x.quantity+1}:x))},t=o=>{r(c=>c.map(u=>u.product_id===o&&u.quantity>1?{...u,quantity:u.quantity-1}:u))},m=()=>console.log("cartFData",a),n=o=>console.log({id:o}),g=o=>console.log({id:o}),h=a.reduce((o,c)=>(o.totalPrice+=c.price*c.quantity,o.totalDiscountPrice+=c.discountPrice*c.quantity,o.totalDeliveryCharges+=c.delivery_charges*c.quantity,o.totalSavings=o.totalPrice-o.totalDiscountPrice,o.totalProducts=a.length,o.totalQuantity+=c.quantity,o),{totalPrice:0,totalDiscountPrice:0,totalDeliveryCharges:0,totalSavings:0,totalProducts:0,totalQuantity:0});return{variable:{cartFData:a,priceDetails:h},methods:{handleIncrement:i,handleDecrement:t,healdCheckout:m,healdWishlistCart:n,healdRemoveCart:g}}},oe=()=>{const{variable:{cartFData:a,priceDetails:r},methods:{handleIncrement:i,handleDecrement:t,healdCheckout:m,healdWishlistCart:n,healdRemoveCart:g}}=ie();return e.jsxs(d,{children:[e.jsx(s,{variant:"h6",sx:{textAlign:"center"},children:"Your Cart"}),e.jsxs(A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(d,{sx:{border:1,borderColor:"secondary.main",borderRadius:2,p:2,mt:3},children:[e.jsxs(C,{spacing:2,direction:"row",sx:{alignItems:"center"},children:[e.jsx(s,{variant:"h6",children:"Price Details"}),e.jsxs(s,{variant:"subtitle2",children:["(",r.totalProducts," Product, ",r.totalQuantity," Quantity)"]})]}),e.jsxs(C,{children:[e.jsxs(s,{variant:"subtitle2",children:["Price: ₹",r.totalPrice]}),e.jsxs(s,{variant:"subtitle2",children:["Discounted Price: ₹",r.totalDiscountPrice]}),e.jsxs(s,{variant:"subtitle2",children:["Delivery Charges: ₹",r.totalDeliveryCharges]}),e.jsxs(s,{variant:"subtitle2",children:["Total Price: ₹",r.totalDiscountPrice+r.totalDeliveryCharges]}),e.jsxs(s,{variant:"subtitle2",color:"success.main",children:["You Save: ₹",r.totalSavings]})]}),e.jsx(d,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:e.jsx(v,{variant:"contained",onClick:m,children:"Proceed to Checkout"})})]}),q.map(l=>{const h=a.find(c=>c.product_id===l.id),o=h?h.quantity:1;return e.jsxs(d,{sx:{border:1,borderColor:"secondary.main",borderRadius:2,overflow:"hidden",p:2},children:[e.jsxs(d,{sx:{display:"flex",gap:2,width:"100%"},children:[e.jsx(U,{src:l.images[0],alt:l.title,style:{width:"100px",borderRadius:2}}),e.jsx(s,{variant:"subtitle2",sx:{m:"auto"},children:l.title})]}),e.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(C,{direction:"row",alignItems:"center",spacing:1,sx:{mt:1},children:[e.jsxs(s,{variant:"subtitle2",children:["₹",l.discountPrice]}),l.discountPercentage>0&&e.jsxs(e.Fragment,{children:[e.jsxs(s,{variant:"body1",sx:{textDecoration:"line-through",color:"#888"},children:["₹",l.price]}),e.jsxs(s,{variant:"body1",color:"success.main",children:[l.discountPercentage,"% off"]}),l.delivery_charges>0&&e.jsxs(s,{variant:"body1",children:["Delivery: ₹",l.delivery_charges]})]})]}),l.stock>0?e.jsxs(C,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(S,{onClick:()=>t(l.id),disabled:o<=1,children:e.jsx(Y,{})}),e.jsx(d,{sx:{border:1,borderColor:"primary.main",p:1,px:2,borderRadius:2},children:e.jsx(s,{children:o})}),e.jsx(S,{onClick:()=>i(l.id,l.stock),disabled:o===l.stock,children:e.jsx(W,{})})]}):e.jsx(s,{variant:"subtitle2",color:"error",sx:{mx:5},children:"Sold Out"}),e.jsxs(C,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(v,{onClick:()=>n(l.id),children:"Add to Wishlist"}),e.jsx(v,{onClick:()=>g(l.id),children:"Remove from Cart"})]})]})]},l.id)})]})]})},ne=()=>e.jsx(d,{children:e.jsx(X,{})}),le=()=>{const{variables:{userData:a},methods:{handleAddAddress:r,handleUpdateAddress:i}}=R();return e.jsx(A,{children:e.jsxs(P,{container:!0,children:[e.jsx(P,{item:!0,lg:4,md:6,sm:12,xs:12,sx:{p:1},children:e.jsx(d,{sx:{borderRadius:2,overflow:"hidden",boxShadow:1,height:"100%",p:2,display:"grid",placeItems:"center"},children:e.jsxs(v,{sx:{display:"flex",flexDirection:"column"},onClick:r,children:[e.jsx(W,{}),e.jsx(s,{variant:"subtitle2",sx:{fontWeight:"bold",px:2},children:"Add Address"})]})})}),a.address.map(t=>e.jsx(P,{item:!0,lg:4,md:6,sm:12,xs:12,sx:{p:1},children:e.jsxs(d,{sx:{borderRadius:2,overflow:"hidden",boxShadow:1,height:"100%",p:2},children:[e.jsxs(d,{children:[e.jsxs(s,{variant:"body1",sx:{display:"flex",gap:1},children:["Default ",t.default?e.jsx(Z,{sx:{color:"primary.main"}}):e.jsx($,{sx:{color:"primary.main"}})]}),e.jsx(_,{sx:{my:1}})]}),e.jsx(N,{address:t}),e.jsxs(d,{sx:{mt:1},children:[e.jsx(v,{onClick:()=>i(t),children:"Edit"}),e.jsx(v,{children:"Remove"}),!t.default&&e.jsx(v,{children:"Set as Default"})]})]})}))]})})},de=a=>{const r={};let i=!0;return a.name||(r.name="Name is required",i=!1),a.mobile_no?a.mobile_no.length<10&&(r.mobile_no="Please enter a valid Number",i=!1):(r.mobile_no="Number is required",i=!1),a.pincode?a.pincode.length<6&&(r.pincode="Please enter a valid pincode",i=!1):(r.pincode="Pincode is required",i=!1),a.city||(r.city="City is required",i=!1),a.state||(r.state="State is required",i=!1),a.country||(r.country="Country is required",i=!1),a.area||(r.area="Area is required",i=!1),a.apartment||(r.apartment="Apartment is required",i=!1),{isValid:i,err:r}},ce=()=>{var F;const a=z(),[r,i]=f.useState(!0),[t,m]=f.useState(((F=a.state)==null?void 0:F.address)||{name:"",mobile_no:"",pincode:"",landmark:"",city:"",state:"",country:"",area:"",apartment:"",default:!1}),[n,g]=f.useState({}),l=b=>{if(!b)return{name:"",mobile_no:"",pincode:"",landmark:"",city:"",state:"",country:"",area:"",apartment:"",default:!1};const{id:j,...w}=b;return w},h=b=>{const{name:j,value:w}=b.target;i(!1),!(j==="mobile_no"&&w.length>10)&&(j==="pincode"&&w.length>6||(m(I=>({...l(I),[j]:w})),g(I=>({...I,[j]:""}))))},[o,c]=f.useState(!1),u=b=>{c(b.target.checked),m(j=>({...j,default:b.target.checked}))},x=b=>{b.preventDefault(),console.log("addressAWERT",t);const j=de(t);j.isValid?console.log({address:t}):g(j.err)};return e.jsxs(A,{children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:"bold",my:2},children:`${a.state.action} ${a.state.action==="Add"?"a new":"your"} address`}),e.jsx("form",{onSubmit:x,children:e.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(y,{autoFocus:!0,variant:"standard",label:"Name",name:"name",value:t==null?void 0:t.name,onChange:h,error:!!n.name,helperText:n.name}),e.jsx(y,{variant:"standard",fullWidth:!0,label:"Mobile Number",name:"mobile_no",type:"number",value:t==null?void 0:t.mobile_no,onChange:h,error:!!n.mobile_no,helperText:n.mobile_no}),e.jsx(y,{variant:"standard",label:"pincode",name:"pincode",type:"number",value:t==null?void 0:t.pincode,onChange:h,error:!!n.pincode,helperText:n.pincode}),e.jsx(y,{variant:"standard",label:"Landmark",name:"landmark",value:t==null?void 0:t.landmark,onChange:h,error:!!n.landmark,helperText:n.landmark}),e.jsx(y,{variant:"standard",label:"City",name:"city",value:t==null?void 0:t.city,onChange:h,error:!!n.city,helperText:n.city}),e.jsx(y,{variant:"standard",label:"State",name:"state",value:t==null?void 0:t.state,onChange:h,error:!!n.state,helperText:n.state}),e.jsx(y,{variant:"standard",label:"Country",name:"country",value:t==null?void 0:t.country,onChange:h,error:!!n.country,helperText:n.country}),e.jsx(y,{variant:"standard",label:"area",name:"area",value:t==null?void 0:t.area,onChange:h,error:!!n.area,helperText:n.area}),e.jsx(y,{variant:"standard",label:"apartment",name:"apartment",value:t==null?void 0:t.apartment,onChange:h,error:!!n.apartment,helperText:n.apartment}),a.state.action!="Update"&&e.jsx(J,{control:e.jsx(K,{sx:{color:"primary.main"},checked:o,onChange:u}),label:"Make this my default address",sx:{color:"primary.main"}}),e.jsxs(v,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:r,children:[a.state.action," address"]})]})})]})},me=a=>{const r={};let i=!0;const t=T(a.old_password);console.log("oldPasswordValidation",t),t.isValid||(i=!1,r.old_password=t.err.password);const m=T(a.new_password);return m.isValid||(i=!1,r.new_password=m.err.password),{isValid:i,errors:r}},he=()=>{const a=z(),r=D(),[i,t]=f.useState({phone_number:a.state.phone_number,old_password:"",new_password:""}),[m,n]=f.useState({});console.log("updatePasswordErr",m);const g=o=>{const{name:c,value:u}=o.target;t(x=>({...x,[c]:u})),n(x=>({...x,[c]:""}))},l=o=>{o.preventDefault();const{isValid:c,errors:u}=me(i);c?(console.log("Password updated successfully:",i),t({phone_number:a.state.phone_number,old_password:"",new_password:""}),n({})):n(u)},h=async()=>{r("/user/auth/verify_otp",{state:{userdata:i,action:"forgetpassword"}})};return e.jsxs(A,{children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:"bold",my:2},children:"Update Password"}),e.jsx("form",{onSubmit:l,children:e.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(B,{label:"Old Password",name:"old_password",value:i.old_password,onChange:g,error:!!m.old_password,helperText:m.old_password}),e.jsx(B,{label:"New Password",name:"new_password",value:i.new_password,onChange:g,error:!!m.new_password,helperText:m.new_password}),e.jsx(s,{sx:{textAlign:"end",cursor:"pointer",color:"primary.main"},onClick:h,children:"Forgot password?"}),e.jsx(v,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Update"})]})})]})},je=()=>e.jsx(O,{children:e.jsxs(p,{path:"/",element:e.jsx(ee,{}),children:[e.jsx(p,{index:!0,element:e.jsx(Q,{})}),e.jsx(p,{path:"/wishlist",element:e.jsx(ae,{})}),e.jsxs(p,{path:"/profile",element:e.jsx(ne,{}),children:[e.jsx(p,{index:!0,element:e.jsx(E,{to:"/profile/information",replace:!0})}),e.jsx(p,{path:"information",element:e.jsx(re,{})}),e.jsx(p,{path:"address",element:e.jsx(le,{})}),e.jsx(p,{path:"manage-address",element:e.jsx(ce,{})}),e.jsx(p,{path:"update-password",element:e.jsx(he,{})})]}),e.jsx(p,{path:"/order",element:e.jsx(se,{})}),e.jsx(p,{path:"/cart",element:e.jsx(oe,{})}),e.jsx(p,{path:"*",element:e.jsx(E,{to:"/user",replace:!0})})]})});export{je as default};
