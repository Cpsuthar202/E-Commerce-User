import{a3 as I,r as j,u as P,b as C,l as s,P as d,Q,O as _,a4 as y,a2 as g,a5 as k,T as o,a6 as W,Y as S,X as b,a7 as F,$ as L,a0 as u,a1 as E}from"./index-C7_Yb33m.js";import{C as T,s as $,b as z,c as B,p as f,P as M,I as p,R as N,W as A,S as H,H as U}from"./Home-C7To1ad1.js";import{g as X,S as v}from"./Stack-DOcowydP.js";function O(n,a,e,i,c){const[t,l]=j.useState(()=>c&&e?e(n).matches:i?i(n).matches:a);return P(()=>{let h=!0;if(!e)return;const x=e(n),r=()=>{h&&l(x.matches)};return r(),x.addListener(r),()=>{h=!1,x.removeListener(r)}},[n,e]),t}const R=j.useSyncExternalStore;function G(n,a,e,i,c){const t=j.useCallback(()=>a,[a]),l=j.useMemo(()=>{if(c&&e)return()=>e(n).matches;if(i!==null){const{matches:m}=i(n);return()=>m}return t},[t,n,i,c,e]),[h,x]=j.useMemo(()=>{if(e===null)return[t,()=>()=>{}];const m=e(n);return[()=>m.matches,w=>(m.addListener(w),()=>{m.removeListener(w)})]},[t,e,n]);return R(x,h,l)}function V(n,a={}){const e=I(),i=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:t=i?window.matchMedia:null,ssrMatchMedia:l=null,noSsr:h=!1}=X({name:"MuiUseMediaQuery",props:a,theme:e});let x=typeof n=="function"?n(e):n;return x=x.replace(/^@media( ?)/m,""),(R!==void 0?G:O)(x,c,t,l,h)}const Y=C(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),J=C(s.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove"),K=()=>s.jsx(d,{sx:{p:2},children:s.jsx(Q,{})}),Z=()=>{const n=_(),{label:a}=y(),e=()=>{switch(a){case"categorie":return B;case"brand":return z;case"store":return $;default:return[]}};return s.jsx(d,{children:s.jsx(g,{container:!0,children:e().map((i,c)=>s.jsx(g,{item:!0,xl:1,lg:2,md:2,sm:4,xs:6,children:s.jsxs(d,{sx:{display:"grid",placeItems:"center"},children:[a,s.jsx(T,{src:"logo"in i?i.logo:"image"in i?i.image:"",label:"label"in i?i.label:"store_name"in i?i.store_name:"",onClick:()=>n(`/product/${a}/${i.id}`)})]})},c))})})},D=()=>{const{label:n,id:a}=y(),[e,i]=j.useState([]),c=k(t=>t.topbar.searchTitle);return console.log("title",c),j.useEffect(()=>{let t=f;n==="categorie"?t=f.filter(l=>l.categories.id===a):n==="brand"?t=f.filter(l=>l.brands.id===a):n==="store"&&(t=f.filter(l=>l.store.id===a)),c&&(t=t.filter(l=>l.teg.some(h=>h.toLowerCase().includes(c.toLowerCase())))),i(t)},[n,a,c]),s.jsx(d,{sx:{display:"flex",flexDirection:"column",gap:2},children:s.jsx(g,{container:!0,children:e.length!=0?e.map((t,l)=>s.jsx(g,{item:!0,lg:2,md:4,sm:6,xs:6,sx:{p:1},children:s.jsx(M,{data:t})},l)):s.jsx(o,{variant:"h6",sx:{width:"100%",textAlign:"center"},children:"Product Not Found"})})})},q=()=>{const{product_id:n}=y(),a=f.find(r=>r.id===n),e=(a==null?void 0:a.stock)||0,[i,c]=j.useState(a==null?void 0:a.images[0]),[t,l]=j.useState(1);return{variables:{product:a,stectImage:i,quantity:t,maxQuantity:e},methods:{setStectImage:c,handleIncrement:()=>{t<e&&l(t+1)},handleDecrement:()=>{t>1&&l(t-1)}}}},ee=()=>{const n=W(),a=V(n.breakpoints.down("sm")),{variables:{product:e,stectImage:i,quantity:c,maxQuantity:t},methods:{setStectImage:l,handleIncrement:h,handleDecrement:x}}=q();return s.jsxs(d,{children:[s.jsxs(g,{container:!0,children:[s.jsx(g,{item:!0,xs:12,md:6,sx:{display:"grid",placeItems:"center"},children:s.jsxs(d,{sx:{width:a?"100%":"70%",display:"grid",placeItems:"center"},children:[s.jsx(p,{src:i,alt:"image",style:{width:"100%",borderRadius:10}}),(e==null?void 0:e.images)&&e.images.length>=2&&s.jsx(d,{sx:{display:"flex",overflowX:"auto",width:"100%"},children:e.images.map(r=>s.jsx(p,{src:r,alt:"image",style:{height:a?50:100,margin:8,borderRadius:10},onClick:()=>l(r)},r))})]})}),s.jsx(g,{item:!0,xs:12,md:6,children:s.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx(o,{variant:"h5",children:e==null?void 0:e.title}),s.jsxs(o,{variant:"body1",sx:{cursor:"pointer",color:"primary.main"},children:["view stores ",e==null?void 0:e.store.store_name]}),s.jsx(N,{rat:e==null?void 0:e.rating,totalRaters:e==null?void 0:e.totalRaters}),s.jsxs(v,{direction:"row",alignItems:"center",spacing:1,children:[s.jsxs(o,{variant:"h6",children:["₹",e==null?void 0:e.discountPrice]}),!!(e!=null&&e.discountPercentage)&&s.jsxs(s.Fragment,{children:[s.jsxs(o,{variant:"body1",sx:{textDecoration:"line-through",color:"#888"},children:["₹",e==null?void 0:e.mrp]}),s.jsxs(o,{variant:"body1",color:"success.main",children:[e==null?void 0:e.discountPercentage,"% off"]})]})]}),s.jsxs(d,{children:[s.jsx(o,{variant:"subtitle2",children:"Colors:"}),(e==null?void 0:e.colors)&&s.jsx(v,{direction:"row",spacing:1,sx:{width:"100%",overflowX:"auto",pb:1},children:e.colors.map((r,m)=>s.jsxs(d,{sx:{border:1,borderColor:"secondary.main",borderRadius:"10px",p:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"9px"},children:[r.image?s.jsx(p,{src:r.image,alt:"image",style:{height:"50px",borderRadius:10,border:1},onClick:()=>l(r.image)}):s.jsx(d,{sx:{width:"20px",height:"20px",bgcolor:r.code,borderRadius:"10%"}},r.code),s.jsx(o,{variant:"body1",children:r.label})]},m))})]}),(e==null?void 0:e.sizes)&&s.jsxs(s.Fragment,{children:[s.jsx(o,{variant:"subtitle2",children:"Size:"}),s.jsx(v,{direction:"row",spacing:1,sx:{width:"100%",overflowX:"auto"},children:e.sizes.map((r,m)=>s.jsx(S,{variant:"text",sx:{px:3,width:"fit-content"},children:r},m))})]}),s.jsxs(d,{sx:{display:"flex",gap:1},children:[s.jsxs(v,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(b,{onClick:x,disabled:c<=1,children:s.jsx(J,{})}),s.jsx(d,{sx:{border:1,borderColor:"primary.main",p:1,px:2,borderRadius:2},children:s.jsx(o,{children:c})}),s.jsx(b,{onClick:h,disabled:c>=t,children:s.jsx(Y,{})})]}),s.jsx(S,{variant:"contained",color:"primary",sx:{flex:1},children:"Buy Now"}),s.jsx(b,{children:s.jsx(F,{})}),s.jsx(A,{text:e==null?void 0:e.title,url:`product_details/${e==null?void 0:e.id}`,children:s.jsx(b,{children:s.jsx(H,{})})})]}),s.jsxs(o,{variant:"h6",sx:{fontWeight:"bold"},children:["Description",s.jsx(o,{variant:"subtitle1",children:e==null?void 0:e.description})]}),s.jsxs(d,{children:[s.jsx(o,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Delivery Charge"}),s.jsx(o,{variant:"body1",children:(e==null?void 0:e.delivery_charges)==0?" Free Delivery":`₹${e==null?void 0:e.delivery_charges} Delivery Charge`})]}),s.jsxs(d,{children:[s.jsx(o,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Return Delivery"}),s.jsx(o,{variant:"body1",children:e==null?void 0:e.replacementPolicy})]}),s.jsxs(d,{children:[s.jsx(o,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Warranty"}),s.jsxs(o,{variant:"body1",children:[e==null?void 0:e.warranty," year warranty"]})]})]})})]}),s.jsxs(d,{children:[s.jsx(o,{variant:"h6",sx:{fontWeight:"bold"},children:"Features"}),e==null?void 0:e.features.map(r=>s.jsxs(o,{variant:"subtitle1",children:["- ",r," "]}))]}),s.jsx(d,{children:(e==null?void 0:e.hero_images)&&(e==null?void 0:e.hero_images.map(r=>s.jsx(p,{src:r,alt:"image",style:{width:"100%"}},r)))})]})},ne=()=>s.jsx(L,{children:s.jsxs(u,{path:"/",element:s.jsx(K,{}),children:[s.jsx(u,{path:"/",element:s.jsx(U,{})}),s.jsx(u,{path:"/display/:label",element:s.jsx(Z,{})}),s.jsx(u,{path:"/product/:label/:id",element:s.jsx(D,{})}),s.jsx(u,{path:"/product",element:s.jsx(D,{})}),s.jsx(u,{path:"/product_details/:product_id",element:s.jsx(ee,{})}),s.jsx(u,{path:"*",element:s.jsx(E,{to:"/",replace:!0})})]})});export{ne as default};
